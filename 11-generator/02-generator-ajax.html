<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>

	<script>
		
	function ajax(url) {
		fetch(url)
			.then(data => data.json())
			.then(data => dados.next(data.results))
	}

	/*function ajaxGen() {
		console.log('Buscando todos os filmes...')
		ajax('https://swapi.co/api/films?format=json');

		console.log('Buscando todos os personagens...')
		ajax('https://swapi.co/api/people?format=json');
	}*/

	function* ajaxGen() {
		console.log('Buscando todos os filmes...');
		const films = yield ajax('https://swapi.co/api/films?format=json');
		console.log(films);

		console.log('Buscando todos os personagens...');
		const people = yield ajax('https://swapi.co/api/people?format=json');
		console.log(people);
	}

	const dados = ajaxGen();
	dados.next();

	</script>

</body>
</html>